from aiogram import Router, F
from aiogram.types import Message
from keyboards.main_keyboard import build_main_kb
from db.db_utils import ensure_user

router = Router()


@router.message(F.text == "/start")
async def cmd_start(message: Message):
    await ensure_user(message.from_user.id, message.from_user.username, message.from_user.full_name)
    kb = build_main_kb()
    await message.answer(
        "–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ DragonX GoldX üêâ\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.",
        reply_markup=kb
    )


@router.message(F.text == "üè†–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é")
async def show_main_menu(message: Message):
    await ensure_user(message.from_user.id, message.from_user.username, message.from_user.full_name)
    kb = build_main_kb()
    await message.answer(
        "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\n–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –±–æ—Ç–∞.\n\n"
        "üí∞ –î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª.\n\n"
        "üìñ –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏.",
        reply_markup=kb
    )


@router.message(F.text == "‚úÖ–û –±–æ—Ç–µ")
async def about_bot(message: Message):
    await message.answer(
        "üî¥ Dragon Gold ‚Äì –ú–∞–≥–∞–∑–∏–Ω –≤—ã–≥–æ–¥–Ω–æ–≥–æ –¥–æ–Ω–∞—Ç–∞!\n\n"
        "–ú—ã ‚Äî –ª–∏–¥–µ—Ä—ã –≤ —Å—Ñ–µ—Ä–µ, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É —Ç–æ–≤–∞—Ä–∞ –ø–æ –Ω–∏–∑–∫–∏–º —Ü–µ–Ω–∞–º.\n\n"
        "üîπ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤: 4560\n"
        "üîπ –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è (~4.95/5)\n"
        "üîπ –ü—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤: 120154"
    )


@router.message(F.text == "üìñ–ü–æ–º–æ—â—å –∏ –æ—Ç–≤–µ—Ç—ã")
async def help_and_faq(message: Message):
    text = (
        "üìú –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –Ω–∞–π–¥—ë—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:\n\n"
        "1Ô∏è‚É£ –ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –∏ –æ–ø–ª–∞—Ç—É?\n"
        "2Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ —ç—Ç–æ? –ù–µ –∑–∞–±–∞–Ω—è—Ç –ª–∏ –º–µ–Ω—è?\n"
        "3Ô∏è‚É£ –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–≤–æ–¥?\n"
        "4Ô∏è‚É£ –•–æ—á—É —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å ‚Äî —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å?\n"
        "5Ô∏è‚É£ –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã?\n"
        "6Ô∏è‚É£ –ì–¥–µ –≤–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å?\n\n"
        "–ù–∞–∂–º–∏—Ç–µ —Ü–∏—Ñ—Ä—É (1‚Äì6) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."
    )
    await message.answer(text)
